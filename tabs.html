<!DOCTYPE html>

<html lang="en" dir="ltr">

<head>

    <!-- IE Compatibility Mode -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- IE Custom Properties Polyfill -->
    <script>
        window.MSInputMethodContext && document.documentMode && document.write(
            '<script src="https://cdn.jsdelivr.net/npm/ie11-custom-properties@3.0.6/ie11CustomProperties.min.js"><\x2fscript>'
        );
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Tabs â€¢ NYC Core Framework</title>

    <!-- Font Awesome Kit -->
    <script data-search-pseudo-elements defer src="https://kit.fontawesome.com/d0e9d4ccb2.js" crossorigin="anonymous"></script>

    <!-- Theme Stylesheets -->
    <link rel="stylesheet" href="./dist/css/nyc_core.css">

</head>

<body>

    <main id="skip-header-content" role="main">

        <div class="overflow-hidden">

            <div class="my-5">

                <div class="container t-center my-4">
                    <h1>Tabs</h1>
                </div>

                <figure class="container medium my-4">

                    <ul class="nav nav--divider nav--horizontal--md border" role="navigation" role="tablist">
                        <li>
                            <button aria-selected="true"
                                aria-controls="tab-panel-01"
                                id="tab-button-01"
                                role="tab">
                                Tab
                            </button>
                        </li>
                        <li>
                            <button aria-selected="false"
                                aria-controls="tab-panel-02"
                                id="tab-button-02"
                                role="tab">
                                Tab
                            </button>
                        </li>
                        <li>
                            <button aria-selected="false"
                                aria-controls="tab-panel-03"
                                id="tab-button-03"
                                role="tab">
                                Tab
                            </button>
                        </li>
                    </ul>

                    <div class="p-3" id="tab-panel-01" aria-labelledby="tab-button-01" role="tabpanel">
                        <h6>Tab 01</h6>
                        <p>
                            Nils Frahm is a German musician, composer and record producer based in Berlin. He is known
                            for combining classical and electronic music and for an unconventional approach to the piano
                            in which he mixes a grand piano, upright piano, Roland Juno-60, Rhodes piano, drum machine,
                            and Moog Taurus.
                        </p>
                    </div>

                    <div class="p-3" id="tab-panel-02" aria-labelledby="tab-button-02" role="tabpanel" hidden="">
                        <h6>Tab 02</h6>
                        <p>
                            Agnes Caroline Thaarup Obel is a Danish singer/songwriter. Her first album, Philharmonics,
                            was released by PIAS Recordings on 4 October 2010 in Europe. Philharmonics was certified
                            gold in June 2011 by the Belgian Entertainment Association (BEA) for sales of 10,000 Copies.
                        </p>
                    </div>

                    <div class="p-3" id="tab-panel-03" aria-labelledby="tab-button-02" role="tabpanel" hidden="">
                        <h6>Tab 03</h6>
                        <p>
                            Agnes Caroline Thaarup Obel is a Danish singer/songwriter. Her first album, Philharmonics,
                            was released by PIAS Recordings on 4 October 2010 in Europe. Philharmonics was certified
                            gold in June 2011 by the Belgian Entertainment Association (BEA) for sales of 10,000 Copies.
                        </p>
                    </div>

                </figure>

            </div>
            <!-- .my-4 -->

        </div>
        <!-- .container -->
        
    </main>

    <script src="https://cdn.jsdelivr.net/gh/CityOfNewYork/nyc-core-framework@new-version/dist/js/nyc_core.js"></script>

    <script>
        /*
         *   This content is licensed according to the W3C Software License at
         *   https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
         */

        (function () {

            const tablist = document.querySelectorAll('[role="tablist"]');
            const tabs = document.querySelectorAll('[role="tab"]');
            const panels = document.querySelectorAll('[role="tabpanel"]');

            // For easy reference
            const keys = {
                end: 35,
                home: 36,
                left: 37,
                right: 39,
                enter: 13,
                space: 32
            };

            // Add or subtract depending on key pressed
            const direction = {
                37: -1,
                39: 1,
            };

            // Bind listeners
            for (i = 0; i < tabs.length; ++i) {
                addListeners(i);
            };

            function addListeners(index) {
                tabs[index].addEventListener('click', clickEventListener);
                tabs[index].addEventListener('keydown', keydownEventListener);
                tabs[index].addEventListener('keyup', keyupEventListener);

                // Build an array with all tabs (<button>s) in it
                tabs[index].index = index;
            };

            // When a tab is clicked, activateTab is fired to activate it
            function clickEventListener(event) {
                var tab = event.target;
                activateTab(tab, false);
            };

            // Handle keydown on tabs
            function keydownEventListener(event) {
                var key = event.keyCode;

                switch (key) {
                    case keys.end:
                        event.preventDefault();
                        // Activate last tab
                        focusLastTab();
                        break;
                    case keys.home:
                        event.preventDefault();
                        // Activate first tab
                        focusFirstTab();
                        break;
                };
            };

            // Handle keyup on tabs
            function keyupEventListener(event) {
                var key = event.keyCode;

                switch (key) {
                    case keys.left:
                    case keys.right:
                        switchTabOnArrowPress(event);
                        break;
                    case keys.enter:
                    case keys.space:
                        activateTab(event.target);
                        break;
                };
            };

            // Either focus the next, previous, first, or last tab
            // depending on key pressed
            
            function switchTabOnArrowPress(event) {
                var pressed = event.keyCode;

                if (direction[pressed]) {
                    var target = event.target;
                    if (target.index !== undefined) {
                        if (tabs[target.index + direction[pressed]]) {
                            tabs[target.index + direction[pressed]].focus();
                        } else if (pressed === keys.left) {
                            focusLastTab();
                        } else if (pressed === keys.right) {
                            focusFirstTab();
                        };
                    };
                };
            };

            // Activates any given tab panel
            function activateTab(tab) {
               
                // Deactivate all other tabs
                deactivateTabs();

                // Set the tab as selected
                tab.setAttribute('aria-selected', 'true');

                // Get the value of aria-controls (which is an ID)
                var controls = tab.getAttribute('aria-controls');

                // Remove hidden attribute from tab panel to make it visible
                document.getElementById(controls).removeAttribute('hidden');
            };

            // Deactivate all tabs and tab panels
            function deactivateTabs() {
                for (t = 0; t < tabs.length; t++) {
                    tabs[t].setAttribute('aria-selected', 'false');
                };

                for (p = 0; p < panels.length; p++) {
                    panels[p].setAttribute('hidden', 'hidden');
                };
            };

            // Make a guess
            function focusFirstTab() {
                tabs[0].focus();
            };

            // Make a guess
            function focusLastTab() {
                tabs[tabs.length - 1].focus();
            };

        }());

    </script>
    
</body>

</html>