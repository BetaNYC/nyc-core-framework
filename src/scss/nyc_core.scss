/*

In this file:

// A. Imports
// B. Custom Theme Styles

*/

//////////////////////////////////////////////
// A. Imports
//////////////////////////////////////////////

// Required

@import "partials/mixins";
@import "partials/reset";
@import "partials/breakpoints";
@import "partials/spacing";
@import "partials/typography";
@import "partials/accessibility";
@import "partials/globals";
@import "partials/buttons";
@import "partials/color-system";
@import "partials/alerts";
@import "partials/links";
@import "partials/borders";
@import "partials/containers";
@import "partials/sizing";
@import "partials/grid";
@import "partials/flex";
@import "partials/display";
@import "partials/navigation";
@import "partials/tabs";
@import "partials/tables";
@import "partials/collapse";
@import "partials/backdrops";
@import "partials/cards";
@import "partials/z-index";
@import "partials/position";
@import "partials/rtl";

// Optional

@import "partials/shadows";
@import "partials/gradients";
@import "partials/accordions";
@import "partials/modals";
@import "partials/forms";
@import "partials/aspect-ratios";
@import "partials/opacities";

@import "partials/dev-tools";


//////////////////////////////////////////////
// B. Custom Theme Styles
//////////////////////////////////////////////

// Put anything here

// Logo

a[data-logo="brand"] {
    display: block;
    color: inherit;

    svg {
        display:block;
        fill: currentColor;
    }
}

.overflow-hidden {
    overflow: hidden;
}

//////////////////////////////////////////////
// C. Layouts !!
//////////////////////////////////////////////

// [class*="head-nav-right--"] > * {
//     border:2px solid green !important;
// }

[class*="head-nav-right"] {
    --menu-padding: var(--s2);

    ul {
        @extend %list-nav-style;
    }

    display: grid;
    justify-content: space-between;

    grid-template-columns: auto auto;
    grid-template-areas: 
        "logo buttons"
        "menu menu";
    
    > .head-nav-right__menu{
        @extend .collapse !optional;
    }
}

.head-nav-right__menu {
    grid-area: menu;

    > ul {
        display: flex;
        flex-direction: row;
        flex-direction: column;
        height: 100%;
        align-items: stretch;

        > li {
            position: relative;
            padding-top: calc(var(--menu-padding) * 0.5);
            padding-bottom: calc(var(--menu-padding) * 0.5);
            padding-left: var(--menu-padding);
            padding-right: var(--menu-padding);
        }

        > li > a {
            margin-top: auto;
            margin-bottom: auto;
        }

        > li > [data-toggle="dropdown"] ~ ul {
            padding: var(--menu-padding);
        }
    }
}

.head-nav-right__logo {
    grid-area: logo;

    padding: var(--menu-padding);
}

.head-nav-right__buttons {
    grid-area: buttons;

    display: flex;
    align-items: center;

    > button {
        margin-left: calc(var(--menu-padding) * 0.25);
        margin-right: calc(var(--menu-padding) * 0.25);
    }

    > button[title="Menu"] {
        order: 10;
    }
}

@each $breakpoint in map-keys($breakpoints) {
    @include breakpoint-up($breakpoint) {
        $mod: breakpoint-modifier($breakpoint, $breakpoints);

        .head-nav-right#{$mod} {
            grid-template-columns: 1fr auto auto;
            grid-template-areas:
                "logo menu buttons";

            .head-nav-right__logo {
                display: flex;
                justify-content: start;
            }

            .head-nav-right__menu {
                display: block;

                > ul {
                    flex-direction: row;
                    height: 100%;
                    align-items: stretch;

                    > li {
                        display: flex;
                    }

                    > li > [data-toggle="dropdown"] ~ ul {
                        position: absolute;
                    }
                }
            }

            .head-nav-right__buttons {
                button[title="Menu"] {
                    display: none;
                }
            }
        }
    }
}

//////////////////////////////////////////////
// D. I.E. 11 Support
//////////////////////////////////////////////

@media screen and (-ms-high-contrast: active),
screen and (-ms-high-contrast: none) {

    [class*="head-nav-right"] {

        .head-nav-right__logo {
            grid-row: 1 / 2;
            grid-column: 1 / 2;
        }

        .head-nav-right__menu {
            grid-column: 2 / 3;
            grid-row: 1 / 2;

            margin-left: var(--s2);
            margin-right: var(--s2);
        }

        .head-nav-right__buttons  {
            grid-column: 3 / 4;
            grid-row: 1 / 2;
        }
    }

}