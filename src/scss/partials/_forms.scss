/*

In this file:

// A. Variables
// B. Form Entry Block
// C. Form Entry Elements
// D. Form Entry Modifiers
// E. Browser Behavior Modifications
// F. Form Entry within Nav
// F. Form Feedback and Alerts

*/

//////////////////////////////////////////////
// A. Variables
//////////////////////////////////////////////

:root {
    --form-field-padding-x: var(--spacer-2);
    --form-field-padding-y: 0.75em;
}

//////////////////////////////////////////////
// B. Form Entry Block
//////////////////////////////////////////////

.form-entry {
    position: relative;

    select,
    textarea,
    input:not([type="radio"]):not([type="checkbox"]):not([type="file"]):not([type="range"]) {
        background-color: transparent;
        color: inherit;
        border-radius: inherit;
        border: 0;
        width: 100%;
    }

    button,
    fieldset {
        border: unset;
    }

    select option {
        color: currentColor !important;
    }

    ::placeholder {
        color: currentColor;
        opacity: 0.675;
    }

    text-align: left;

    [dir="rtl"] & {
        text-align: right;
    }
}


//////////////////////////////////////////////
// C. Form Entry Elements
//////////////////////////////////////////////

.form-entry__field {
    position: relative;

    display: flex;
    flex-direction: column;

    color: inherit;
}

form > .form-entry ~ .form-entry {
    margin-top: var(--spacer-3);
    margin-bottom: var(--spacer-3);
}

.form-entry__field__label {
    font-weight: var(--base-font-weight-bold);
    margin-bottom: 0.5em;

    padding-left: var(--form-field-padding-x);
    padding-right: var(--form-field-padding-x);

    &::after {
        content: "*";
        margin: auto 0.25rem;
        display: none;
        font-size: 80%;
    }
}

// Required Asterisk

.is-required .form-entry__field__label::after {
    display: inline-block !important;
}

.form-entry__field__input {
    position: relative;

    display: flex;
    align-items: center;

    input,
    select, 
    textarea
    {
        padding: var(--form-field-padding-y) var(--form-field-padding-x);
        outline: none;
    }

    [class*="icon"] {
    font-size: 80%;
        margin-left: var(--form-field-padding-x);
        // margin-right: var(--form-field-padding-x);
    }
    
    &::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-radius: inherit;
        pointer-events: none;
        
        box-shadow: inset 0 0 0 var(--default-border-width) currentColor;
    }

}

.form-entry__help {
    font-size: 80%;
    padding-left: var(--form-field-padding-x);
    padding-right: var(--form-field-padding-x);
}


.form-entry__field__input.select{
    position: relative;

    &::before {
        content: "";
        @include caret-icon;
        pointer-events: none;
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        margin-left: var(--spacer-2);
        margin-right: var(--spacer-2);
    }

}


//////////////////////////////////////////////
// E. Form Feedback and Alerts
//////////////////////////////////////////////

[data-alert="form-errors"],
.form-entry__feedback,
.form-entry__field__input span.nyc_icon_warn
{
    display: none;
}

.form-entry__feedback {
    margin-top: 0.5rem;
    font-size: 80%;
    padding-left: var(--form-field-padding-x);
    padding-right: var(--form-field-padding-x);
}

.invalid {
    .form-entry__feedback,
    .form-entry__field__input .nyc_icon_warn
    {
        display: block;
    }
}