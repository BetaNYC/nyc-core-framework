
////////////////////////////////////////////
//                                        //
// Default Bootstrap functions (required) //
//                                        //
////////////////////////////////////////////

// Get values from color maps

@function color($key: "blue") {
  @return map-get($colors, $key);
}

@function theme-color($key: "primary") {
  @return map-get($theme-colors, $key);
}

@function gray($key: "100") {
  @return map-get($grays, $key);
}

@function theme-color-level($color-name: "primary", $level: 0) {
  $color: theme-color($color-name);
  $color-base: if($level > 0, #000, #fff);
  $level: abs($level);

  @return mix($color-base, $color, $level * $theme-color-interval);
}

////////////////////////////////
//                            //
// Accessible color overrides //
//                            //
////////////////////////////////

// Define before Bootstrap import

// Default grays

$gray-100: #f8f9fa;
$gray-200: #e9ecef;
$gray-300: #dee2e6;
$gray-400: #ced4da;
$gray-500: #adb5bd;
$gray-600: #868e96;
$gray-700: #495057;
$gray-800: #343a40;
$gray-900: #212529;

// Default Bootstrap colors

$blue: #0072ED;
$blue: #006fe6;
$pink: #E21B76;
$orange: #D64309;
$green: #218838;
$cyan: #008295;

// Accessible gray overrides

$light: $gray-200;
$secondary: $gray-700; 
$dark: $gray-900;
$text-muted: $gray-700;
$blockquote-small-color: $gray-700;
$input-placeholder-color: $gray-700;
$dropdown-header-color: $gray-700;
$figure-caption-color: $gray-700;
$breadcrumb-active-color: $gray-700;

/////////////
//         //
// Imports //
//         //
/////////////

// Shared variables and mixins

@import "global-variables.scss";
@import "custom-mixins.scss";

// Import Bootstrap 4.0.0

@import "../bootstrap.4.0.0/scss/bootstrap";

//////////////////////////////////////////////////////////
//                                                      //
// Global font sizes, HTML, body, and img tag defaults  //
//                                                      //
//////////////////////////////////////////////////////////

.fs-small{ font-size: $fs-small; } // 14px
.fs-medium{ font-size: $fs-medium; } // 16px
.fs-regular{ font-size: $fs-regular; } // 20px
.fs-large{ font-size: $fs-large; } // 20px

html{ 
	-webkit-font-smoothing: antialiased;
	background: $gray-200;
	overflow-x: hidden;
}

body{
  min-width: 340px;
	font-size: 1.25rem; // 20px
	color: $black;
}

img{ vertical-align: top; }

/////////////////////////////////////////////////
//                                             //
// Remove margin bottom on last-child elements //
//                                             //
/////////////////////////////////////////////////

h1, 
h2, 
h3, 
h4,
h5, 
h6,
p,
a, 
ul, 
li, 
dl, 
dd
{
  &:last-child{ margin-bottom: 0; }
}

// Remove default margins to <hr> tags 

hr{ margin: 0; }

// Fixes Bootstrap responsive table bug

.responsive-wrapper{

  min-width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;

  th { min-width: 80px; }
}

// Ensure child links of .text-white remain white

.text-white a, 
.text-white a:hover, 
{ color: white; }

///////////////////////////////
//                           //
// Custom classes (optional) //
//                           //
///////////////////////////////

// Width helpers
// (can be used independently or with container and container-fluid)

$narrow-width: 700px;
$wide-width: 1400px;

.narrow{ max-width: $narrow-width; }
.wide{ max-width: $wide-width; }

.narrow,
.wide
{ @extend .mx-auto; }

// Box shadow

.has-shadow{ @include boxShadow; }
.has-inset-shadow{ @include boxShadow(true); }

// Miscellaneous

.bg-none{ background: none; }

.pill{ @include border-radius(3rem); }

// Opacity classes

.opacity-10{ @include opacity(0.10); }
.opacity-20{ @include opacity(0.20); }
.opacity-30{ @include opacity(0.30); }
.opacity-40{ @include opacity(0.40); }
.opacity-50{ @include opacity(0.50); }
.opacity-60{ @include opacity(0.60); }
.opacity-70{ @include opacity(0.70); }
.opacity-80{ @include opacity(0.80); }
.opacity-90{ @include opacity(0.90); }

/////////////////////////////////////
//                                 //
// Citywide global header & footer //
//                                 //
/////////////////////////////////////

#nyc-top-header{ @extend .fs-small; }
#nyc-bottom-footer{ @extend .fs-medium; }

#nyc-top-header,
#nyc-bottom-footer{
	@extend .bg-black;
	@extend .text-white;
	font-family: $font-family-sans-serif;
}

#nyc-top-header{

	.nav-link{
		padding: 0; 
		margin-left: 1rem;
	}

	p,
	a{
		font-weight: bold;
		line-height:1;
	}

	a:hover{ text-decoration: none; }
}

/////////////////////////////////
//                             //
// Toggle buttons & accordions //
//                             //
/////////////////////////////////

.toggle-title{
  display: inline-block;
  width: 90%;
  text-align: left;
  white-space: normal;
}

.toggle-icon{
  font-family: 'Font Awesome 5 Free';
  font-weight: 900;
  font-style: normal;

  float: right;
}

// Accessible accordions

.accessible-accordion{

  a[data-toggle="collapse"]{

    &:after{ @extend .toggle-icon }

    // Change the right icon here. Go to https://fontawesome.com/icons
    // Find your icons and paste the unicode below

    &[aria-expanded="true"]:after{ content: "\f106"; }
    &[aria-expanded="false"]:after{ content: "\f107"; }
  }

}

// Generic toggle button

a.btn[data-toggle="collapse"]{

  overflow: hidden;

  &:after{
    @extend .toggle-icon;
    color: white;
  }

  &[aria-expanded="true"]:after { content: "\f068"; }
  &[aria-expanded="false"]:after { content: "\f067"; }

  .toggle-title{ float: left; }
}

/////////////////////
//                 //
// Featured panels //
//                 //
/////////////////////

.featured-panel{

  position: relative;

  .image,
  .message, 
  .row
  { @extend .w-100; }

  .image{
    @extend .image;

    img{
      @extend .w-100;
      @extend .d-block;
    }
  }

  &.cover{
    
    @extend .d-md-flex;

    .message{
      @extend .align-self-md-center;
      @extend .d-md-flex;
    }

    @include media-breakpoint-up(md){
      .message{
        position: absolute;
        top: 50%;
        left: 50%;
            transform: translate(-50%,-50%);
          }

      img{ @include opacity(0.25); }
    }
  }

  &.box{
    
    @extend .d-lg-flex;

    .message{
      @extend .d-lg-flex;
      @extend .align-self-lg-center;
      @extend .mx-auto;
    }

    @include media-breakpoint-down(md){
      text-align: center;
      div.message{ max-width: 540px; }
    }

    @include media-breakpoint-up(lg){
      div.message{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
      }
    }
  }
}